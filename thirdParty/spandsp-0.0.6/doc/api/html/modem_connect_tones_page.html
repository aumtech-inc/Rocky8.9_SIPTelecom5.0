<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>spandsp: Modem connect tone detection</title>
<link href="css.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1><a class="anchor" name="modem_connect_tones_page">Modem connect tone detection</a></h1><h2><a class="anchor" name="modem_connect_tones_page_sec_1">
What does it do?</a></h2>
Some telephony terminal equipment, such as modems, require a channel which is as clear as possible. They use their own echo cancellation. If the network is also performing echo cancellation the two cancellors can end up squabbling about the nature of the channel, with bad results. A special tone is defined which should cause the network to disable any echo cancellation processes. This is the echo canceller disable tone.<p>
The tone detector's design assumes the channel is free of any DC component.<h2><a class="anchor" name="modem_connect_tones_page_sec_2">
How does it work?</a></h2>
A sharp notch filter is implemented as a single bi-quad section. The presence of the 2100Hz disable tone is detected by comparing the notched filtered energy with the unfiltered energy. If the notch filtered energy is much lower than the unfiltered energy, then a large proportion of the energy must be at the notch frequency. This type of detector may seem less intuitive than using a narrow bandpass filter to isolate the energy at the notch freqency. However, a sharp bandpass implemented as an IIR filter rings badly. The reciprocal notch filter is very well behaved for our purpose. <hr size="1"><address style="align: right;"><small>Generated on Wed Mar 17 10:16:38 2010 for spandsp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
