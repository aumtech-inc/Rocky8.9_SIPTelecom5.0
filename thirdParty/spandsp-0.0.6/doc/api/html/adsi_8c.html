<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>spandsp: adsi.c File Reference</title>
<link href="css.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_0e7c2593c17df2b8598d85d379ada763.html">src</a></div>
<h1>adsi.c File Reference</h1><code>#include &lt;inttypes.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &quot;floating_fudge.h&quot;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include &quot;spandsp/telephony.h&quot;</code><br>
<code>#include &quot;spandsp/fast_convert.h&quot;</code><br>
<code>#include &quot;<a class="el" href="logging_8h-source.html">spandsp/logging.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="queue_8h-source.html">spandsp/queue.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="complex_8h-source.html">spandsp/complex.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="dds_8h-source.html">spandsp/dds.h</a>&quot;</code><br>
<code>#include &quot;spandsp/power_meter.h&quot;</code><br>
<code>#include &quot;<a class="el" href="async_8h-source.html">spandsp/async.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="crc_8h-source.html">spandsp/crc.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="fsk_8h-source.html">spandsp/fsk.h</a>&quot;</code><br>
<code>#include &quot;spandsp/tone_detect.h&quot;</code><br>
<code>#include &quot;<a class="el" href="tone__generate_8h-source.html">spandsp/tone_generate.h</a>&quot;</code><br>
<code>#include &quot;spandsp/super_tone_rx.h&quot;</code><br>
<code>#include &quot;spandsp/dtmf.h&quot;</code><br>
<code>#include &quot;<a class="el" href="adsi_8h-source.html">spandsp/adsi.h</a>&quot;</code><br>
<code>#include &quot;spandsp/private/logging.h&quot;</code><br>
<code>#include &quot;spandsp/private/queue.h&quot;</code><br>
<code>#include &quot;spandsp/private/tone_generate.h&quot;</code><br>
<code>#include &quot;spandsp/private/async.h&quot;</code><br>
<code>#include &quot;spandsp/private/fsk.h&quot;</code><br>
<code>#include &quot;spandsp/private/dtmf.h&quot;</code><br>
<code>#include &quot;<a class="el" href="private_2adsi_8h-source.html">spandsp/private/adsi.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#25d108c10737123a579614ba98389b21">BAUDOT_FIGURE_SHIFT</a>&nbsp;&nbsp;&nbsp;0x1B</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#1c3bae7dfa62ebf894d5b9a52e3b656d">BAUDOT_LETTER_SHIFT</a>&nbsp;&nbsp;&nbsp;0x1F</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<b>SOH</b> =  0x01, 
<b>STX</b> =  0x02, 
<b>ETX</b> =  0x03, 
<b>DLE</b> =  0x10, 
<br>
&nbsp;&nbsp;<b>SUB</b> =  0x1A
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#18e1b5c3332ccf00f66dfd12f9e96eba">adsi_rx</a> (<a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *s, const int16_t amp[], int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive a chunk of ADSI audio.  <a href="#18e1b5c3332ccf00f66dfd12f9e96eba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#bb2aee0afc93c146a4c49642fff90bb0">adsi_rx_init</a> (<a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *s, int standard, <a class="el" href="async_8h.html#82a49bbf79941c462b57b6773b26dd05">put_msg_func_t</a> put_msg, void *user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise an ADSI receive context.  <a href="#bb2aee0afc93c146a4c49642fff90bb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#2929357dd6e366b09bd74b07725c505f">adsi_rx_release</a> (<a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release an ADSI receive context.  <a href="#2929357dd6e366b09bd74b07725c505f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#2027640b41ca3c7d611c10c99a8762c0">adsi_rx_free</a> (<a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free the resources of an ADSI receive context.  <a href="#2027640b41ca3c7d611c10c99a8762c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#8bd3ed1e4b9fcd7b8e88bf62e3679d13">adsi_tx</a> (<a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *s, int16_t amp[], int max_len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generate a block of ADSI audio samples.  <a href="#8bd3ed1e4b9fcd7b8e88bf62e3679d13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#1ccd0c3c5103bb18f5226f8454b13deb">adsi_tx_send_alert_tone</a> (<a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request generation of an ADSI alert tone.  <a href="#1ccd0c3c5103bb18f5226f8454b13deb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#198d4437a013d05dc84afeb688ef0e22">adsi_tx_set_preamble</a> (<a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *s, int preamble_len, int preamble_ones_len, int postamble_ones_len, int stop_bits)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adjust the preamble associated with an ADSI transmit context.  <a href="#198d4437a013d05dc84afeb688ef0e22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#d93fbf70f252d850cbd3dd53d90eba79">adsi_tx_put_message</a> (<a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *s, const uint8_t *msg, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put a message into the input buffer of an ADSI transmit context.  <a href="#d93fbf70f252d850cbd3dd53d90eba79"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#1c844012cd7e3e6f0e9a9e09f2aa8eba">adsi_tx_init</a> (<a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *s, int standard)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise an ADSI transmit context.  <a href="#1c844012cd7e3e6f0e9a9e09f2aa8eba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#3af526aa2fc65e037367aebe6ebcbfd8">adsi_tx_release</a> (<a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release an ADSI transmit context.  <a href="#3af526aa2fc65e037367aebe6ebcbfd8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#06b8056ad9c5a8b18cce13fe588263d0">adsi_tx_free</a> (<a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free the resources of an ADSI transmit context.  <a href="#06b8056ad9c5a8b18cce13fe588263d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#80c54ce06c4b468d06d438242b1a8656">adsi_next_field</a> (<a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *s, const uint8_t *msg, int msg_len, int pos, uint8_t *field_type, uint8_t const **field_body, int *field_len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a field from an ADSI message.  <a href="#80c54ce06c4b468d06d438242b1a8656"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#54bfa13c42504ca211e317d8db9c8a07">adsi_add_field</a> (<a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *s, uint8_t *msg, int len, uint8_t field_type, uint8_t const *field_body, int field_len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert the header or a field into an ADSI message.  <a href="#54bfa13c42504ca211e317d8db9c8a07"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="adsi_8c.html#2114f0b7ea7b27d57551f8d192913126">adsi_standard_to_str</a> (int standard)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a short name for an ADSI standard.  <a href="#2114f0b7ea7b27d57551f8d192913126"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="25d108c10737123a579614ba98389b21"></a><!-- doxytag: member="adsi.c::BAUDOT_FIGURE_SHIFT" ref="25d108c10737123a579614ba98389b21" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAUDOT_FIGURE_SHIFT&nbsp;&nbsp;&nbsp;0x1B          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The baudot code to shift from alpha to digits and symbols 
</div>
</div><p>
<a class="anchor" name="1c3bae7dfa62ebf894d5b9a52e3b656d"></a><!-- doxytag: member="adsi.c::BAUDOT_LETTER_SHIFT" ref="1c3bae7dfa62ebf894d5b9a52e3b656d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAUDOT_LETTER_SHIFT&nbsp;&nbsp;&nbsp;0x1F          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The baudot code to shift from digits and symbols to alpha 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="54bfa13c42504ca211e317d8db9c8a07"></a><!-- doxytag: member="adsi.c::adsi_add_field" ref="54bfa13c42504ca211e317d8db9c8a07" args="(adsi_tx_state_t *s, uint8_t *msg, int len, uint8_t field_type, uint8_t const *field_body, int field_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adsi_add_field           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>field_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *&nbsp;</td>
          <td class="paramname"> <em>field_body</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>field_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Insert the header or a field into an ADSI message. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI transmit context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>The message buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The current length of the message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field_type</em>&nbsp;</td><td>The type code for the new field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field_body</em>&nbsp;</td><td>Pointer to the body of the new field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field_len</em>&nbsp;</td><td>The length of the new field. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="80c54ce06c4b468d06d438242b1a8656"></a><!-- doxytag: member="adsi.c::adsi_next_field" ref="80c54ce06c4b468d06d438242b1a8656" args="(adsi_rx_state_t *s, const uint8_t *msg, int msg_len, int pos, uint8_t *field_type, uint8_t const **field_body, int *field_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adsi_next_field           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msg_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>field_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const **&nbsp;</td>
          <td class="paramname"> <em>field_body</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>field_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a field from an ADSI message. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI receive context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>The message buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg_len</em>&nbsp;</td><td>The length of the message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pos</em>&nbsp;</td><td>Current position within the message. Set to -1 when starting a message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field_type</em>&nbsp;</td><td>The type code for the field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field_body</em>&nbsp;</td><td>Pointer to the body of the field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field_len</em>&nbsp;</td><td>The length of the field, or -1 for no more fields, or -2 for message structure corrupt. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="18e1b5c3332ccf00f66dfd12f9e96eba"></a><!-- doxytag: member="adsi.c::adsi_rx" ref="18e1b5c3332ccf00f66dfd12f9e96eba" args="(adsi_rx_state_t *s, const int16_t amp[], int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adsi_rx           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t&nbsp;</td>
          <td class="paramname"> <em>amp</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Receive a chunk of ADSI audio. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI receive context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>amp</em>&nbsp;</td><td>The audio sample buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The number of samples in the buffer. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of samples unprocessed. </dd></dl>

</div>
</div><p>
<a class="anchor" name="2027640b41ca3c7d611c10c99a8762c0"></a><!-- doxytag: member="adsi.c::adsi_rx_free" ref="2027640b41ca3c7d611c10c99a8762c0" args="(adsi_rx_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adsi_rx_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free the resources of an ADSI receive context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI receive context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK. </dd></dl>

</div>
</div><p>
<a class="anchor" name="bb2aee0afc93c146a4c49642fff90bb0"></a><!-- doxytag: member="adsi.c::adsi_rx_init" ref="bb2aee0afc93c146a4c49642fff90bb0" args="(adsi_rx_state_t *s, int standard, put_msg_func_t put_msg, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a>* adsi_rx_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>standard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="async_8h.html#82a49bbf79941c462b57b6773b26dd05">put_msg_func_t</a>&nbsp;</td>
          <td class="paramname"> <em>put_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise an ADSI receive context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI receive context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>standard</em>&nbsp;</td><td>The code for the ADSI standard to be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>put_msg</em>&nbsp;</td><td>A callback routine called to deliver the received messages to the application. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>An opaque pointer for the callback routine. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the initialised context, or NULL if there was a problem. </dd></dl>

</div>
</div><p>
<a class="anchor" name="2929357dd6e366b09bd74b07725c505f"></a><!-- doxytag: member="adsi.c::adsi_rx_release" ref="2929357dd6e366b09bd74b07725c505f" args="(adsi_rx_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adsi_rx_release           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__rx__state__s.html">adsi_rx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Release an ADSI receive context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI receive context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK. </dd></dl>

</div>
</div><p>
<a class="anchor" name="2114f0b7ea7b27d57551f8d192913126"></a><!-- doxytag: member="adsi.c::adsi_standard_to_str" ref="2114f0b7ea7b27d57551f8d192913126" args="(int standard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* adsi_standard_to_str           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>standard</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a short name for an ADSI standard. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>standard</em>&nbsp;</td><td>The code for the standard. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the name. </dd></dl>

</div>
</div><p>
<a class="anchor" name="8bd3ed1e4b9fcd7b8e88bf62e3679d13"></a><!-- doxytag: member="adsi.c::adsi_tx" ref="8bd3ed1e4b9fcd7b8e88bf62e3679d13" args="(adsi_tx_state_t *s, int16_t amp[], int max_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adsi_tx           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>amp</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generate a block of ADSI audio samples. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI transmit context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>amp</em>&nbsp;</td><td>The audio sample buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_len</em>&nbsp;</td><td>The number of samples to be generated. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of samples actually generated. </dd></dl>

</div>
</div><p>
<a class="anchor" name="06b8056ad9c5a8b18cce13fe588263d0"></a><!-- doxytag: member="adsi.c::adsi_tx_free" ref="06b8056ad9c5a8b18cce13fe588263d0" args="(adsi_tx_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adsi_tx_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free the resources of an ADSI transmit context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI transmit context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1c844012cd7e3e6f0e9a9e09f2aa8eba"></a><!-- doxytag: member="adsi.c::adsi_tx_init" ref="1c844012cd7e3e6f0e9a9e09f2aa8eba" args="(adsi_tx_state_t *s, int standard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a>* adsi_tx_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>standard</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise an ADSI transmit context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI transmit context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>standard</em>&nbsp;</td><td>The code for the ADSI standard to be used. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the initialised context, or NULL if there was a problem. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d93fbf70f252d850cbd3dd53d90eba79"></a><!-- doxytag: member="adsi.c::adsi_tx_put_message" ref="d93fbf70f252d850cbd3dd53d90eba79" args="(adsi_tx_state_t *s, const uint8_t *msg, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adsi_tx_put_message           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Put a message into the input buffer of an ADSI transmit context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI transmit context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>The message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The length of the message. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The length actually added. If a message is already in progress in the transmitter, this function will return zero, as it will not successfully add the message to the buffer. If the message is invalid (e.g. it is too long), this function will return -1. </dd></dl>

</div>
</div><p>
<a class="anchor" name="3af526aa2fc65e037367aebe6ebcbfd8"></a><!-- doxytag: member="adsi.c::adsi_tx_release" ref="3af526aa2fc65e037367aebe6ebcbfd8" args="(adsi_tx_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adsi_tx_release           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Release an ADSI transmit context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI transmit context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1ccd0c3c5103bb18f5226f8454b13deb"></a><!-- doxytag: member="adsi.c::adsi_tx_send_alert_tone" ref="1ccd0c3c5103bb18f5226f8454b13deb" args="(adsi_tx_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adsi_tx_send_alert_tone           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request generation of an ADSI alert tone. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI transmit context. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="198d4437a013d05dc84afeb688ef0e22"></a><!-- doxytag: member="adsi.c::adsi_tx_set_preamble" ref="198d4437a013d05dc84afeb688ef0e22" args="(adsi_tx_state_t *s, int preamble_len, int preamble_ones_len, int postamble_ones_len, int stop_bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adsi_tx_set_preamble           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadsi__tx__state__s.html">adsi_tx_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>preamble_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>preamble_ones_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>postamble_ones_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stop_bits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adjust the preamble associated with an ADSI transmit context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The ADSI transmit context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>preamble_len</em>&nbsp;</td><td>The number of bits of preamble. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>preamble_ones_len</em>&nbsp;</td><td>The number of bits of continuous one before a message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>postamble_ones_len</em>&nbsp;</td><td>The number of bits of continuous one after a message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stop_bits</em>&nbsp;</td><td>The number of stop bits per character. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Wed Mar 17 10:16:37 2010 for spandsp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
