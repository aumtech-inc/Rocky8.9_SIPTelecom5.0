<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>spandsp: v22bis_tx.c File Reference</title>
<link href="css.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_0e7c2593c17df2b8598d85d379ada763.html">src</a></div>
<h1>v22bis_tx.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;inttypes.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &quot;floating_fudge.h&quot;</code><br>
<code>#include &quot;spandsp/telephony.h&quot;</code><br>
<code>#include &quot;spandsp/fast_convert.h&quot;</code><br>
<code>#include &quot;<a class="el" href="logging_8h-source.html">spandsp/logging.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="complex_8h-source.html">spandsp/complex.h</a>&quot;</code><br>
<code>#include &quot;spandsp/vector_float.h&quot;</code><br>
<code>#include &quot;spandsp/complex_vector_float.h&quot;</code><br>
<code>#include &quot;<a class="el" href="async_8h-source.html">spandsp/async.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="dds_8h-source.html">spandsp/dds.h</a>&quot;</code><br>
<code>#include &quot;spandsp/power_meter.h&quot;</code><br>
<code>#include &quot;<a class="el" href="v29rx_8h-source.html">spandsp/v29rx.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="v22bis_8h-source.html">spandsp/v22bis.h</a>&quot;</code><br>
<code>#include &quot;spandsp/private/logging.h&quot;</code><br>
<code>#include &quot;spandsp/private/v22bis.h&quot;</code><br>
<code>#include &quot;v22bis_tx_floating_rrc.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f6d0ada3aa670ff3d1df84ec40df3154"></a><!-- doxytag: member="v22bis_tx.c::ms_to_symbols" ref="f6d0ada3aa670ff3d1df84ec40df3154" args="(t)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ms_to_symbols</b>(t)&nbsp;&nbsp;&nbsp;(((t)*600)/1000)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e1c0477458fb22e3c8de3ef1e3ac177a"></a><!-- doxytag: member="v22bis_tx.c::v22bis_tx" ref="e1c0477458fb22e3c8de3ef1e3ac177a" args="(v22bis_state_t *s, int16_t amp[], int len)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>v22bis_tx</b> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s, int16_t amp[], int len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#28dd302c367ac951261c96ed66fb2596">v22bis_tx_power</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s, float power)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adjust a V.22bis modem transmit context's output power.  <a href="#28dd302c367ac951261c96ed66fb2596"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#a6eabc11bc389a217d8c5ce7d86fee14">v22bis_set_get_bit</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s, <a class="el" href="async_8h.html#5292f33fb25a124bc1fe35a6ae911bd6">get_bit_func_t</a> get_bit, void *user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the get_bit function associated with a V.22bis modem context.  <a href="#a6eabc11bc389a217d8c5ce7d86fee14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#316ac85007deae48116acbd8a91f9133">v22bis_set_put_bit</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s, <a class="el" href="async_8h.html#8b375e88d9c9f982680f38e9af649272">put_bit_func_t</a> put_bit, void *user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the put_bit function associated with a V.22bis modem context.  <a href="#316ac85007deae48116acbd8a91f9133"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#71174dd97d15525de52cdb599e4e0108">v22bis_set_modem_status_handler</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s, <a class="el" href="async_8h.html#d0ca7b7108059c6326e92a6817b467c4">modem_tx_status_func_t</a> handler, void *user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the modem status report function associated with a V.22bis modem receive context.  <a href="#71174dd97d15525de52cdb599e4e0108"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structlogging__state__s.html">logging_state_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#4e5ddfc227c21919c03ddcdf5a90f818">v22bis_get_logging_state</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the logging context associated with a V.22bis modem context.  <a href="#4e5ddfc227c21919c03ddcdf5a90f818"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#93867d650aeeb5587d17c6a201aa86d6">v22bis_restart</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s, int bit_rate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reinitialise an existing V.22bis modem context.  <a href="#93867d650aeeb5587d17c6a201aa86d6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#da763037805a62d94e3dc0b70efa65a4">v22bis_request_retrain</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s, int bit_rate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request a retrain for a V.22bis modem context.  <a href="#da763037805a62d94e3dc0b70efa65a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#83c5406b2f0ee737258bc940a009b07c">v22bis_remote_loopback</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s, int enable)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request a loopback 2 for a V.22bis modem context.  <a href="#83c5406b2f0ee737258bc940a009b07c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#d00dd6c33318811fa18932f4140c5e43">v22bis_current_bit_rate</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report the current operating bit rate of a V.22bis modem context.  <a href="#d00dd6c33318811fa18932f4140c5e43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#e428c0b489225b377d4e5a4936f1d661">v22bis_init</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s, int bit_rate, int guard, int calling_party, <a class="el" href="async_8h.html#5292f33fb25a124bc1fe35a6ae911bd6">get_bit_func_t</a> get_bit, void *get_bit_user_data, <a class="el" href="async_8h.html#8b375e88d9c9f982680f38e9af649272">put_bit_func_t</a> put_bit, void *put_bit_user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise a V.22bis modem context.  <a href="#e428c0b489225b377d4e5a4936f1d661"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#ad9d3e23c8c4a5b123bb7d86388ba714">v22bis_release</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release a V.22bis modem receive context.  <a href="#ad9d3e23c8c4a5b123bb7d86388ba714"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="v22bis__tx_8c.html#99670fbf80ffceb3689bb5c45a211919">v22bis_free</a> (<a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a V.22bis modem receive context.  <a href="#99670fbf80ffceb3689bb5c45a211919"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>v22bis_constellation</b> [16]</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="d00dd6c33318811fa18932f4140c5e43"></a><!-- doxytag: member="v22bis_tx.c::v22bis_current_bit_rate" ref="d00dd6c33318811fa18932f4140c5e43" args="(v22bis_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int v22bis_current_bit_rate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report the current operating bit rate of a V.22bis modem context. 
<p>
Report the current operating bit rate of a V.22bis modem context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="99670fbf80ffceb3689bb5c45a211919"></a><!-- doxytag: member="v22bis_tx.c::v22bis_free" ref="99670fbf80ffceb3689bb5c45a211919" args="(v22bis_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int v22bis_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free a V.22bis modem receive context. 
<p>
Free a V.22bis modem receive context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK </dd></dl>

</div>
</div><p>
<a class="anchor" name="4e5ddfc227c21919c03ddcdf5a90f818"></a><!-- doxytag: member="v22bis_tx.c::v22bis_get_logging_state" ref="4e5ddfc227c21919c03ddcdf5a90f818" args="(v22bis_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlogging__state__s.html">logging_state_t</a>* v22bis_get_logging_state           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the logging context associated with a V.22bis modem context. 
<p>
Get the logging context associated with a V.22bis modem context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the logging context </dd></dl>

</div>
</div><p>
<a class="anchor" name="e428c0b489225b377d4e5a4936f1d661"></a><!-- doxytag: member="v22bis_tx.c::v22bis_init" ref="e428c0b489225b377d4e5a4936f1d661" args="(v22bis_state_t *s, int bit_rate, int guard, int calling_party, get_bit_func_t get_bit, void *get_bit_user_data, put_bit_func_t put_bit, void *put_bit_user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a>* v22bis_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bit_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>guard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>calling_party</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="async_8h.html#5292f33fb25a124bc1fe35a6ae911bd6">get_bit_func_t</a>&nbsp;</td>
          <td class="paramname"> <em>get_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>get_bit_user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="async_8h.html#8b375e88d9c9f982680f38e9af649272">put_bit_func_t</a>&nbsp;</td>
          <td class="paramname"> <em>put_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>put_bit_user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise a V.22bis modem context. 
<p>
Initialise a V.22bis modem context. This must be called before the first use of the context, to initialise its contents. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bit_rate</em>&nbsp;</td><td>The bit rate of the modem. Valid values are 1200 and 2400. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>guard</em>&nbsp;</td><td>The guard tone option. 0 = none, 1 = 550Hz, 2 = 1800Hz. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>calling_party</em>&nbsp;</td><td>TRUE if this is the calling modem. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>get_bit</em>&nbsp;</td><td>The callback routine used to get the data to be transmitted. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>put_bit</em>&nbsp;</td><td>The callback routine used to get the data to be transmitted. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>An opaque pointer, passed in calls to the get and put routines. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the modem context, or NULL if there was a problem. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ad9d3e23c8c4a5b123bb7d86388ba714"></a><!-- doxytag: member="v22bis_tx.c::v22bis_release" ref="ad9d3e23c8c4a5b123bb7d86388ba714" args="(v22bis_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int v22bis_release           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Release a V.22bis modem receive context. 
<p>
Release a V.22bis modem receive context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK </dd></dl>

</div>
</div><p>
<a class="anchor" name="83c5406b2f0ee737258bc940a009b07c"></a><!-- doxytag: member="v22bis_tx.c::v22bis_remote_loopback" ref="83c5406b2f0ee737258bc940a009b07c" args="(v22bis_state_t *s, int enable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int v22bis_remote_loopback           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>enable</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request a loopback 2 for a V.22bis modem context. 
<p>
Request a loopback 2 for a V.22bis modem context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>enable</em>&nbsp;</td><td>TRUE to enable loopback, or FALSE to disable it. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK, -1 for request reject. </dd></dl>

</div>
</div><p>
<a class="anchor" name="da763037805a62d94e3dc0b70efa65a4"></a><!-- doxytag: member="v22bis_tx.c::v22bis_request_retrain" ref="da763037805a62d94e3dc0b70efa65a4" args="(v22bis_state_t *s, int bit_rate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int v22bis_request_retrain           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bit_rate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request a retrain for a V.22bis modem context. 
<p>
Request a retrain for a V.22bis modem context. A rate change may also be requested. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bit_rate</em>&nbsp;</td><td>The bit rate of the modem. Valid values are 1200 and 2400. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK, -1 for request rejected. </dd></dl>

</div>
</div><p>
<a class="anchor" name="93867d650aeeb5587d17c6a201aa86d6"></a><!-- doxytag: member="v22bis_tx.c::v22bis_restart" ref="93867d650aeeb5587d17c6a201aa86d6" args="(v22bis_state_t *s, int bit_rate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int v22bis_restart           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bit_rate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reinitialise an existing V.22bis modem context. 
<p>
Reinitialise an existing V.22bis modem context, so it may be reused. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bit_rate</em>&nbsp;</td><td>The bit rate of the modem. Valid values are 1200 and 2400. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK, -1 for bad parameter. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a6eabc11bc389a217d8c5ce7d86fee14"></a><!-- doxytag: member="v22bis_tx.c::v22bis_set_get_bit" ref="a6eabc11bc389a217d8c5ce7d86fee14" args="(v22bis_state_t *s, get_bit_func_t get_bit, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v22bis_set_get_bit           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="async_8h.html#5292f33fb25a124bc1fe35a6ae911bd6">get_bit_func_t</a>&nbsp;</td>
          <td class="paramname"> <em>get_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the get_bit function associated with a V.22bis modem context. 
<p>
Change the get_bit function associated with a V.22bis modem context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>get_bit</em>&nbsp;</td><td>The callback routine used to get the data to be transmitted. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>An opaque pointer. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="71174dd97d15525de52cdb599e4e0108"></a><!-- doxytag: member="v22bis_tx.c::v22bis_set_modem_status_handler" ref="71174dd97d15525de52cdb599e4e0108" args="(v22bis_state_t *s, modem_tx_status_func_t handler, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v22bis_set_modem_status_handler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="async_8h.html#2885b45b57630b4c473088d88a45aa07">modem_rx_status_func_t</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the modem status report function associated with a V.22bis modem receive context. 
<p>
Change the modem status report function associated with a V.22bis modem receive context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The callback routine used to report modem status changes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>An opaque pointer. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="316ac85007deae48116acbd8a91f9133"></a><!-- doxytag: member="v22bis_tx.c::v22bis_set_put_bit" ref="316ac85007deae48116acbd8a91f9133" args="(v22bis_state_t *s, put_bit_func_t put_bit, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v22bis_set_put_bit           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="async_8h.html#8b375e88d9c9f982680f38e9af649272">put_bit_func_t</a>&nbsp;</td>
          <td class="paramname"> <em>put_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the put_bit function associated with a V.22bis modem context. 
<p>
Change the get_bit function associated with a V.22bis modem context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>put_bit</em>&nbsp;</td><td>The callback routine used to process the data received. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>An opaque pointer. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="28dd302c367ac951261c96ed66fb2596"></a><!-- doxytag: member="v22bis_tx.c::v22bis_tx_power" ref="28dd302c367ac951261c96ed66fb2596" args="(v22bis_state_t *s, float power)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v22bis_tx_power           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structv22bis__state__s.html">v22bis_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>power</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adjust a V.22bis modem transmit context's output power. 
<p>
Adjust a V.22bis modem transmit context's power output. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The modem context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>power</em>&nbsp;</td><td>The power level, in dBm0 </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="ce38bd657d645ed552b356bb291a8b97"></a><!-- doxytag: member="v22bis_tx.c::v22bis_constellation" ref="ce38bd657d645ed552b356bb291a8b97" args="[16]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structcomplexf__t.html">complexf_t</a> v22bis_constellation[16]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
    { 1.0f,  1.0f},
    { 3.0f,  1.0f},     
    { 1.0f,  3.0f},
    { 3.0f,  3.0f},
    {-1.0f,  1.0f},
    {-1.0f,  3.0f},     
    {-3.0f,  1.0f},
    {-3.0f,  3.0f},
    {-1.0f, -1.0f},
    {-3.0f, -1.0f},     
    {-1.0f, -3.0f},
    {-3.0f, -3.0f},
    { 1.0f, -1.0f},
    { 1.0f, -3.0f},     
    { 3.0f, -1.0f},
    { 3.0f, -3.0f}
}
</pre></div>
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Wed Mar 17 10:16:38 2010 for spandsp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
