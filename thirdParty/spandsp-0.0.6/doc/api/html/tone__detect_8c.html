<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>spandsp: tone_detect.c File Reference</title>
<link href="css.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_0e7c2593c17df2b8598d85d379ada763.html">src</a></div>
<h1>tone_detect.c File Reference</h1><code>#include &lt;inttypes.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &quot;floating_fudge.h&quot;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &lt;fcntl.h&gt;</code><br>
<code>#include &quot;spandsp/telephony.h&quot;</code><br>
<code>#include &quot;<a class="el" href="complex_8h-source.html">spandsp/complex.h</a>&quot;</code><br>
<code>#include &quot;spandsp/complex_vector_float.h&quot;</code><br>
<code>#include &quot;spandsp/tone_detect.h&quot;</code><br>
<code>#include &quot;<a class="el" href="tone__generate_8h-source.html">spandsp/tone_generate.h</a>&quot;</code><br>
<code>#include &quot;spandsp/private/tone_detect.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e71449b1cc6e6250b91f539153a7a0d3"></a><!-- doxytag: member="tone_detect.c::M_PI" ref="e71449b1cc6e6250b91f539153a7a0d3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>M_PI</b>&nbsp;&nbsp;&nbsp;3.14159265358979323846264338327</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0229bcbc2149952db50237add67778d5"></a><!-- doxytag: member="tone_detect.c::make_goertzel_descriptor" ref="0229bcbc2149952db50237add67778d5" args="(goertzel_descriptor_t *t, float freq, int samples)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#0229bcbc2149952db50237add67778d5">make_goertzel_descriptor</a> (<a class="el" href="structgoertzel__descriptor__s.html">goertzel_descriptor_t</a> *t, float freq, int samples)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a descriptor for use with either a Goertzel transform. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#2cebe6eb1572e07f4e2863280e343d78">goertzel_init</a> (<a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *s, <a class="el" href="structgoertzel__descriptor__s.html">goertzel_descriptor_t</a> *t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise the state of a Goertzel transform.  <a href="#2cebe6eb1572e07f4e2863280e343d78"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="02147dfb023239396fef955196ea1b7d"></a><!-- doxytag: member="tone_detect.c::goertzel_release" ref="02147dfb023239396fef955196ea1b7d" args="(goertzel_state_t *s)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>goertzel_release</b> (<a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9fdef5e0cb4ea4e4389765014e61c0ff"></a><!-- doxytag: member="tone_detect.c::goertzel_free" ref="9fdef5e0cb4ea4e4389765014e61c0ff" args="(goertzel_state_t *s)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>goertzel_free</b> (<a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#5fc815b8003dad6ba47717a243548d61">goertzel_reset</a> (<a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the state of a Goertzel transform.  <a href="#5fc815b8003dad6ba47717a243548d61"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#4f52cc239dbc37c74fe2b4dda0379e91">goertzel_update</a> (<a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *s, const int16_t amp[], int samples)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the state of a Goertzel transform.  <a href="#4f52cc239dbc37c74fe2b4dda0379e91"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#234c635639361b6fb67ee6a96de005d7">goertzel_result</a> (<a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Evaluate the final result of a Goertzel transform.  <a href="#234c635639361b6fb67ee6a96de005d7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#cd00502eb1b78567c56cd17fcd0960c4">periodogram</a> (const <a class="el" href="structcomplexf__t.html">complexf_t</a> coeffs[], const <a class="el" href="structcomplexf__t.html">complexf_t</a> amp[], int len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#6cd1364f7a34bb1788abe25eef590d03">periodogram_prepare</a> (<a class="el" href="structcomplexf__t.html">complexf_t</a> sum[], <a class="el" href="structcomplexf__t.html">complexf_t</a> diff[], const <a class="el" href="structcomplexf__t.html">complexf_t</a> amp[], int len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#80b6c2d7fb237552afaff75f6e7ac697">periodogram_apply</a> (const <a class="el" href="structcomplexf__t.html">complexf_t</a> coeffs[], const <a class="el" href="structcomplexf__t.html">complexf_t</a> sum[], const <a class="el" href="structcomplexf__t.html">complexf_t</a> diff[], int len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#a22a93da5cf78ba02de59137d3a29d4d">periodogram_generate_coeffs</a> (<a class="el" href="structcomplexf__t.html">complexf_t</a> coeffs[], float freq, int sample_rate, int window_len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#f94496cba3debb907da22dfa387a551f">periodogram_generate_phase_offset</a> (<a class="el" href="structcomplexf__t.html">complexf_t</a> *offset, float freq, int sample_rate, int interval)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tone__detect_8c.html#c40dbcda7e5cf47a427814a3fffd1c3d">periodogram_freq_error</a> (const <a class="el" href="structcomplexf__t.html">complexf_t</a> *phase_offset, float scale, const <a class="el" href="structcomplexf__t.html">complexf_t</a> *last_result, const <a class="el" href="structcomplexf__t.html">complexf_t</a> *result)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="2cebe6eb1572e07f4e2863280e343d78"></a><!-- doxytag: member="tone_detect.c::goertzel_init" ref="2cebe6eb1572e07f4e2863280e343d78" args="(goertzel_state_t *s, goertzel_descriptor_t *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a>* goertzel_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgoertzel__descriptor__s.html">goertzel_descriptor_t</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise the state of a Goertzel transform. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The Goertzel context. If NULL, a context is allocated with malloc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>The Goertzel descriptor. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the Goertzel state. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5fc815b8003dad6ba47717a243548d61"></a><!-- doxytag: member="tone_detect.c::goertzel_reset" ref="5fc815b8003dad6ba47717a243548d61" args="(goertzel_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void goertzel_reset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset the state of a Goertzel transform. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The Goertzel context. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="234c635639361b6fb67ee6a96de005d7"></a><!-- doxytag: member="tone_detect.c::goertzel_result" ref="234c635639361b6fb67ee6a96de005d7" args="(goertzel_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float goertzel_result           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Evaluate the final result of a Goertzel transform. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The Goertzel context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The result of the transform. The expected result for a pure sine wave signal of level x dBm0, at the very centre of the bin is: [Floating point] ((samples_per_goertzel_block*32768.0/1.4142)*10^((x - DBM0_MAX_SINE_POWER)/20.0))^2 [Fixed point] ((samples_per_goertzel_block*256.0/1.4142)*10^((x - DBM0_MAX_SINE_POWER)/20.0))^2 </dd></dl>

</div>
</div><p>
<a class="anchor" name="4f52cc239dbc37c74fe2b4dda0379e91"></a><!-- doxytag: member="tone_detect.c::goertzel_update" ref="4f52cc239dbc37c74fe2b4dda0379e91" args="(goertzel_state_t *s, const int16_t amp[], int samples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int goertzel_update           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgoertzel__state__s.html">goertzel_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t&nbsp;</td>
          <td class="paramname"> <em>amp</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>samples</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update the state of a Goertzel transform. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The Goertzel context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>amp</em>&nbsp;</td><td>The samples to be transformed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>samples</em>&nbsp;</td><td>The number of samples. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of samples unprocessed </dd></dl>

</div>
</div><p>
<a class="anchor" name="cd00502eb1b78567c56cd17fcd0960c4"></a><!-- doxytag: member="tone_detect.c::periodogram" ref="cd00502eb1b78567c56cd17fcd0960c4" args="(const complexf_t coeffs[], const complexf_t amp[], int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcomplexf__t.html">complexf_t</a> periodogram           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td>
          <td class="paramname"> <em>coeffs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td>
          <td class="paramname"> <em>amp</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Evaluate a periodogram. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>coeffs</em>&nbsp;</td><td>A set of coefficients generated by <a class="el" href="tone__detect_8c.html#a22a93da5cf78ba02de59137d3a29d4d">periodogram_generate_coeffs()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>amp</em>&nbsp;</td><td>The complex amplitude of the signal. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The length of the periodogram, in samples. This must be an even number. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The periodogram result. </dd></dl>

</div>
</div><p>
<a class="anchor" name="80b6c2d7fb237552afaff75f6e7ac697"></a><!-- doxytag: member="tone_detect.c::periodogram_apply" ref="80b6c2d7fb237552afaff75f6e7ac697" args="(const complexf_t coeffs[], const complexf_t sum[], const complexf_t diff[], int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcomplexf__t.html">complexf_t</a> periodogram_apply           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td>
          <td class="paramname"> <em>coeffs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td>
          <td class="paramname"> <em>sum</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td>
          <td class="paramname"> <em>diff</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Evaluate a periodogram, based on data prepared by <a class="el" href="tone__detect_8c.html#6cd1364f7a34bb1788abe25eef590d03">periodogram_prepare()</a>. This is more efficient than using <a class="el" href="tone__detect_8c.html#cd00502eb1b78567c56cd17fcd0960c4">periodogram()</a> when several periodograms are to be applied to the same signal. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>coeffs</em>&nbsp;</td><td>A set of coefficients generated by <a class="el" href="tone__detect_8c.html#a22a93da5cf78ba02de59137d3a29d4d">periodogram_generate_coeffs()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sum</em>&nbsp;</td><td>A vector of sums produced by <a class="el" href="tone__detect_8c.html#6cd1364f7a34bb1788abe25eef590d03">periodogram_prepare()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>diff</em>&nbsp;</td><td>A vector of differences produced by <a class="el" href="tone__detect_8c.html#6cd1364f7a34bb1788abe25eef590d03">periodogram_prepare()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The length of the periodogram, in samples. This must be an even number. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The periodogram result. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c40dbcda7e5cf47a427814a3fffd1c3d"></a><!-- doxytag: member="tone_detect.c::periodogram_freq_error" ref="c40dbcda7e5cf47a427814a3fffd1c3d" args="(const complexf_t *phase_offset, float scale, const complexf_t *last_result, const complexf_t *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float periodogram_freq_error           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcomplexf__t.html">complexf_t</a> *&nbsp;</td>
          <td class="paramname"> <em>phase_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcomplexf__t.html">complexf_t</a> *&nbsp;</td>
          <td class="paramname"> <em>last_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcomplexf__t.html">complexf_t</a> *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Apply a phase offset, to find the frequency error between periodogram evaluations. specified interval. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>phase_offset</em>&nbsp;</td><td>A point to the expected phase offset. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scale</em>&nbsp;</td><td>The scaling factor to be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last_result</em>&nbsp;</td><td>A pointer to the previous periodogram result. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>A pointer to the current periodogram result. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The frequency error, in Hz. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a22a93da5cf78ba02de59137d3a29d4d"></a><!-- doxytag: member="tone_detect.c::periodogram_generate_coeffs" ref="a22a93da5cf78ba02de59137d3a29d4d" args="(complexf_t coeffs[], float freq, int sample_rate, int window_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int periodogram_generate_coeffs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td>
          <td class="paramname"> <em>coeffs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sample_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>window_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generate a Hamming weighted coefficient set, to be used for a periodogram analysis. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>coeffs</em>&nbsp;</td><td>The generated coefficients. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>freq</em>&nbsp;</td><td>The frequency to be matched by the periodogram, in Hz. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sample_rate</em>&nbsp;</td><td>The sample rate of the signal, in samples per second. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>window_len</em>&nbsp;</td><td>The length of the periodogram window. This must be an even number. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of generated coefficients. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f94496cba3debb907da22dfa387a551f"></a><!-- doxytag: member="tone_detect.c::periodogram_generate_phase_offset" ref="f94496cba3debb907da22dfa387a551f" args="(complexf_t *offset, float freq, int sample_rate, int interval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float periodogram_generate_phase_offset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcomplexf__t.html">complexf_t</a> *&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sample_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>interval</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generate the phase offset to be expected between successive periodograms evaluated at the specified interval. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>A point to the generated phase offset. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>freq</em>&nbsp;</td><td>The frequency being matched by the periodogram, in Hz. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sample_rate</em>&nbsp;</td><td>The sample rate of the signal, in samples per second. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>interval</em>&nbsp;</td><td>The interval between periodograms, in samples. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The scaling factor. </dd></dl>

</div>
</div><p>
<a class="anchor" name="6cd1364f7a34bb1788abe25eef590d03"></a><!-- doxytag: member="tone_detect.c::periodogram_prepare" ref="6cd1364f7a34bb1788abe25eef590d03" args="(complexf_t sum[], complexf_t diff[], const complexf_t amp[], int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int periodogram_prepare           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td>
          <td class="paramname"> <em>sum</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td>
          <td class="paramname"> <em>diff</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcomplexf__t.html">complexf_t</a>&nbsp;</td>
          <td class="paramname"> <em>amp</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prepare data for evaluating a set of periodograms. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sum</em>&nbsp;</td><td>A vector of sums of pairs of signal samples. This will be half the length of len. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>diff</em>&nbsp;</td><td>A vector of differences between pairs of signal samples. This will be half the length of len. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>amp</em>&nbsp;</td><td>The complex amplitude of the signal. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The length of the periodogram, in samples. This must be an even number. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The length of the vectors sum and diff. </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Wed Mar 17 10:16:38 2010 for spandsp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
