<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>spandsp: t38_gateway.h File Reference</title>
<link href="css.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_0e7c2593c17df2b8598d85d379ada763.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_8c737b89cae07b24472486820dcab6b7.html">spandsp</a></div>
<h1>t38_gateway.h File Reference</h1>
<p>
<a href="t38__gateway_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt38__stats__t.html">t38_stats_t</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5e7a99adc26eb061a792694b1fe6f87c"></a><!-- doxytag: member="t38_gateway.h::_SPANDSP_T38_GATEWAY_H_" ref="5e7a99adc26eb061a792694b1fe6f87c" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>_SPANDSP_T38_GATEWAY_H_</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#a5ca9be89da65ed5091f1bb7163eed7e">T38_RX_BUF_LEN</a>&nbsp;&nbsp;&nbsp;2048</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#285e5ca6d71fc41ee5cb8acf7f847b07">T38_TX_HDLC_BUFS</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#eb1c5dc1b1f65e4374f41df05aafd0a7">T38_MAX_HDLC_LEN</a>&nbsp;&nbsp;&nbsp;260</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4fa4e507367cf7cbbaef688ad4b721e4"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_state_t" ref="4fa4e507367cf7cbbaef688ad4b721e4" args="" -->
typedef <a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>t38_gateway_state_t</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#3a756db2ee94b184658f36e1c4ce2c94">t38_gateway_real_time_frame_handler_t</a> )(<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, void *user_data, int direction, const uint8_t *msg, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">T.30 real time frame handler.  <a href="#3a756db2ee94b184658f36e1c4ce2c94"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#b47c8b589db8d5bcba928bead06871b3">t38_gateway_init</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, t38_tx_packet_handler_t *tx_packet_handler, void *tx_packet_user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise a gateway mode T.38 context.  <a href="#b47c8b589db8d5bcba928bead06871b3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#12b41e23a841eaa45adad0ebf68c6a6f">t38_gateway_release</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release a T.38 context.  <a href="#12b41e23a841eaa45adad0ebf68c6a6f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#27957008ae035d8fef21a2a1c5431119">t38_gateway_free</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a T.38 context.  <a href="#27957008ae035d8fef21a2a1c5431119"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#bb24b84cb809df7bdbd4e560da8ee272">t38_gateway_rx</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, int16_t amp[], int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process a block of received FAX audio samples.  <a href="#bb24b84cb809df7bdbd4e560da8ee272"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#4fb7dd19f6ca16fcbb59f5cc602ae796">t38_gateway_tx</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, int16_t amp[], int max_len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generate a block of FAX audio samples.  <a href="#4fb7dd19f6ca16fcbb59f5cc602ae796"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#a4c623da01d89efd2c920cf39dd1c107">t38_gateway_set_ecm_capability</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, int ecm_allowed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Control whether error correcting mode (ECM) is allowed.  <a href="#a4c623da01d89efd2c920cf39dd1c107"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#3b7981b5a941fafdf3a98a975225bb01">t38_gateway_set_transmit_on_idle</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, int transmit_on_idle)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select whether silent audio will be sent when transmit is idle.  <a href="#3b7981b5a941fafdf3a98a975225bb01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#204c03041c4e95e9d6c8392e340650b1">t38_gateway_set_supported_modems</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, int supported_modems)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specify supported modems.  <a href="#204c03041c4e95e9d6c8392e340650b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#4c78bbd9d13aa16e87bef3d37e779f8c">t38_gateway_set_nsx_suppression</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, const uint8_t *from_t38, int from_t38_len, const uint8_t *from_modem, int from_modem_len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select whether NSC, NSF, and NSS should be suppressed.  <a href="#4c78bbd9d13aa16e87bef3d37e779f8c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#b758dd1c42ecdb1a6107f2960f21568b">t38_gateway_set_tep_mode</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, int use_tep)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select whether TEP will be sent for the image modems.  <a href="#b758dd1c42ecdb1a6107f2960f21568b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#a7dad9eddd97f7b72d156c8facdbacf1">t38_gateway_set_fill_bit_removal</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, int remove)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select whether non-ECM fill bits are to be removed during transmission.  <a href="#a7dad9eddd97f7b72d156c8facdbacf1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#c7db7b9817face80e7b6dbd67e64f980">t38_gateway_get_transfer_statistics</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, <a class="el" href="structt38__stats__t.html">t38_stats_t</a> *t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current transfer statistics.  <a href="#c7db7b9817face80e7b6dbd67e64f980"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structt38__core__state__s.html">t38_core_state_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#28f5bc262b9e94117ff35d9e26593abc">t38_gateway_get_t38_core_state</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the T.38 core IFP packet engine associated with a T.38 context.  <a href="#28f5bc262b9e94117ff35d9e26593abc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structlogging__state__s.html">logging_state_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#ca0e0be85d9fd0c6d55098060cea08ed">t38_gateway_get_logging_state</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the logging context associated with a T.38 context.  <a href="#ca0e0be85d9fd0c6d55098060cea08ed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="t38__gateway_8h.html#cb18e9ec90869685ff99f9851c0ecba6">t38_gateway_set_real_time_frame_handler</a> (<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, <a class="el" href="t38__gateway_8h.html#3a756db2ee94b184658f36e1c4ce2c94">t38_gateway_real_time_frame_handler_t</a> *handler, void *user_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a callback function for T.30 frame exchange monitoring.  <a href="#cb18e9ec90869685ff99f9851c0ecba6"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="eb1c5dc1b1f65e4374f41df05aafd0a7"></a><!-- doxytag: member="t38_gateway.h::T38_MAX_HDLC_LEN" ref="eb1c5dc1b1f65e4374f41df05aafd0a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T38_MAX_HDLC_LEN&nbsp;&nbsp;&nbsp;260          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The maximum length of an HDLC frame buffer. This must be big enough for ECM frames. 
</div>
</div><p>
<a class="anchor" name="a5ca9be89da65ed5091f1bb7163eed7e"></a><!-- doxytag: member="t38_gateway.h::T38_RX_BUF_LEN" ref="a5ca9be89da65ed5091f1bb7163eed7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T38_RX_BUF_LEN&nbsp;&nbsp;&nbsp;2048          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The receive buffer length 
</div>
</div><p>
<a class="anchor" name="285e5ca6d71fc41ee5cb8acf7f847b07"></a><!-- doxytag: member="t38_gateway.h::T38_TX_HDLC_BUFS" ref="285e5ca6d71fc41ee5cb8acf7f847b07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T38_TX_HDLC_BUFS&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The number of HDLC transmit buffers 
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="3a756db2ee94b184658f36e1c4ce2c94"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_real_time_frame_handler_t" ref="3a756db2ee94b184658f36e1c4ce2c94" args=")(t38_gateway_state_t *s, void *user_data, int direction, const uint8_t *msg, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void( <a class="el" href="t38__gateway_8h.html#3a756db2ee94b184658f36e1c4ce2c94">t38_gateway_real_time_frame_handler_t</a>)(<a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *s, void *user_data, int direction, const uint8_t *msg, int len)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
T.30 real time frame handler. 
<p>
T.30 real time frame handler. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.30 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>An opaque pointer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>direction</em>&nbsp;</td><td>TRUE for incoming, FALSE for outgoing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>The HDLC message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The length of the message. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="27957008ae035d8fef21a2a1c5431119"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_free" ref="27957008ae035d8fef21a2a1c5431119" args="(t38_gateway_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int t38_gateway_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free a T.38 context. 
<p>
Free a gateway mode T.38 context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK, else -1. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ca0e0be85d9fd0c6d55098060cea08ed"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_get_logging_state" ref="ca0e0be85d9fd0c6d55098060cea08ed" args="(t38_gateway_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlogging__state__s.html">logging_state_t</a>* t38_gateway_get_logging_state           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a pointer to the logging context associated with a T.38 context. 
<p>
Get a pointer to the logging context associated with a T.38 context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the logging context, or NULL. </dd></dl>

</div>
</div><p>
<a class="anchor" name="28f5bc262b9e94117ff35d9e26593abc"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_get_t38_core_state" ref="28f5bc262b9e94117ff35d9e26593abc" args="(t38_gateway_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structt38__core__state__s.html">t38_core_state_t</a>* t38_gateway_get_t38_core_state           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a pointer to the T.38 core IFP packet engine associated with a T.38 context. 
<p>
Get a pointer to the T.38 core IFP packet engine associated with a gateway mode T.38 context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the T.38 core context, or NULL. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c7db7b9817face80e7b6dbd67e64f980"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_get_transfer_statistics" ref="c7db7b9817face80e7b6dbd67e64f980" args="(t38_gateway_state_t *s, t38_stats_t *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void t38_gateway_get_transfer_statistics           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structt38__stats__t.html">t38_stats_t</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current transfer statistics. 
<p>
Get the current transfer statistics for the current T.38 session. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>A pointer to a buffer for the statistics. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b47c8b589db8d5bcba928bead06871b3"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_init" ref="b47c8b589db8d5bcba928bead06871b3" args="(t38_gateway_state_t *s, t38_tx_packet_handler_t *tx_packet_handler, void *tx_packet_user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a>* t38_gateway_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t38_tx_packet_handler_t *&nbsp;</td>
          <td class="paramname"> <em>tx_packet_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>tx_packet_user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise a gateway mode T.38 context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tx_packet_handler</em>&nbsp;</td><td>A callback routine to encapsulate and transmit T.38 packets. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tx_packet_user_data</em>&nbsp;</td><td>An opaque pointer passed to the tx_packet_handler routine. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the termination mode T.38 context, or NULL if there was a problem. </dd></dl>

</div>
</div><p>
<a class="anchor" name="12b41e23a841eaa45adad0ebf68c6a6f"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_release" ref="12b41e23a841eaa45adad0ebf68c6a6f" args="(t38_gateway_state_t *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int t38_gateway_release           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Release a T.38 context. 
<p>
Release a gateway mode T.38 context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for OK, else -1. </dd></dl>

</div>
</div><p>
<a class="anchor" name="bb24b84cb809df7bdbd4e560da8ee272"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_rx" ref="bb24b84cb809df7bdbd4e560da8ee272" args="(t38_gateway_state_t *s, int16_t amp[], int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int t38_gateway_rx           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>amp</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process a block of received FAX audio samples. 
<p>
Process a block of received FAX audio samples. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>amp</em>&nbsp;</td><td>The audio sample buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The number of samples in the buffer. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of samples unprocessed. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a4c623da01d89efd2c920cf39dd1c107"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_set_ecm_capability" ref="a4c623da01d89efd2c920cf39dd1c107" args="(t38_gateway_state_t *s, int ecm_allowed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void t38_gateway_set_ecm_capability           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ecm_allowed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Control whether error correcting mode (ECM) is allowed. 
<p>
Control whether error correcting mode (ECM) is allowed. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ecm_allowed</em>&nbsp;</td><td>TRUE is ECM is to be allowed. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a7dad9eddd97f7b72d156c8facdbacf1"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_set_fill_bit_removal" ref="a7dad9eddd97f7b72d156c8facdbacf1" args="(t38_gateway_state_t *s, int remove)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void t38_gateway_set_fill_bit_removal           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>remove</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Select whether non-ECM fill bits are to be removed during transmission. 
<p>
Select whether non-ECM fill bits are to be removed during transmission. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remove</em>&nbsp;</td><td>TRUE if fill bits are to be removed. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4c78bbd9d13aa16e87bef3d37e779f8c"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_set_nsx_suppression" ref="4c78bbd9d13aa16e87bef3d37e779f8c" args="(t38_gateway_state_t *s, const uint8_t *from_t38, int from_t38_len, const uint8_t *from_modem, int from_modem_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void t38_gateway_set_nsx_suppression           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>from_t38</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>from_t38_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>from_modem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>from_modem_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Select whether NSC, NSF, and NSS should be suppressed. 
<p>
Select whether NSC, NSF, and NSS should be suppressed. It selected, the contents of these messages are forced to zero for all octets beyond the message type. This makes them look like manufacturer specific messages, from a manufacturer which does not exist. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from_t38</em>&nbsp;</td><td>A string of bytes to overwrite the header of any NSC, NSF, and NSS frames passing through the gateway from T.38 the the modem. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from_t38_len</em>&nbsp;</td><td>The length of the overwrite string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from_modem</em>&nbsp;</td><td>A string of bytes to overwrite the header of any NSC, NSF, and NSS frames passing through the gateway from the modem to T.38. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>from_modem_len</em>&nbsp;</td><td>The length of the overwrite string. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="cb18e9ec90869685ff99f9851c0ecba6"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_set_real_time_frame_handler" ref="cb18e9ec90869685ff99f9851c0ecba6" args="(t38_gateway_state_t *s, t38_gateway_real_time_frame_handler_t *handler, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void t38_gateway_set_real_time_frame_handler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="t38__gateway_8h.html#3a756db2ee94b184658f36e1c4ce2c94">t38_gateway_real_time_frame_handler_t</a> *&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set a callback function for T.30 frame exchange monitoring. 
<p>
Set a callback function for T.30 frame exchange monitoring. This is called from the heart of the signal processing, so don't take too long in the handler routine. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.30 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The callback function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>An opaque pointer passed to the callback function. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="204c03041c4e95e9d6c8392e340650b1"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_set_supported_modems" ref="204c03041c4e95e9d6c8392e340650b1" args="(t38_gateway_state_t *s, int supported_modems)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void t38_gateway_set_supported_modems           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>supported_modems</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Specify supported modems. 
<p>
Specify which modem types are supported by a T.30 context. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>supported_modems</em>&nbsp;</td><td>Bit field list of the supported modems. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b758dd1c42ecdb1a6107f2960f21568b"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_set_tep_mode" ref="b758dd1c42ecdb1a6107f2960f21568b" args="(t38_gateway_state_t *s, int use_tep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void t38_gateway_set_tep_mode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>use_tep</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Select whether TEP will be sent for the image modems. 
<p>
Select whether talker echo protection tone will be sent for the image modems. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>use_tep</em>&nbsp;</td><td>TRUE if TEP should be sent. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="3b7981b5a941fafdf3a98a975225bb01"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_set_transmit_on_idle" ref="3b7981b5a941fafdf3a98a975225bb01" args="(t38_gateway_state_t *s, int transmit_on_idle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void t38_gateway_set_transmit_on_idle           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>transmit_on_idle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Select whether silent audio will be sent when transmit is idle. 
<p>
Select whether silent audio will be sent when transmit is idle. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>transmit_on_idle</em>&nbsp;</td><td>TRUE if silent audio should be output when the FAX transmitter is idle. FALSE to transmit zero length audio when the FAX transmitter is idle. The default behaviour is FALSE. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4fb7dd19f6ca16fcbb59f5cc602ae796"></a><!-- doxytag: member="t38_gateway.h::t38_gateway_tx" ref="4fb7dd19f6ca16fcbb59f5cc602ae796" args="(t38_gateway_state_t *s, int16_t amp[], int max_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int t38_gateway_tx           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt38__gateway__state__s.html">t38_gateway_state_t</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>amp</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generate a block of FAX audio samples. 
<p>
Generate a block of FAX audio samples. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The T.38 context. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>amp</em>&nbsp;</td><td>The audio sample buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_len</em>&nbsp;</td><td>The number of samples to be generated. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of samples actually generated. </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Wed Mar 17 10:16:38 2010 for spandsp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
